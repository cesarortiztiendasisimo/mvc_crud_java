# Sistema de Gesti√≥n Unificado - MVC Completo

## Descripci√≥n
Sistema integrado que combina **tres aplicaciones MVC** con interfaces diferentes:
- **Sistema de Empleados (Desktop)**: Gesti√≥n con interface Material Design en Swing
- **Sistema de Usuarios (Desktop)**: CRUD de usuarios con datos mock en Swing
- **Sistema Web de Empleados**: Interfaz web moderna con REST API

## Caracter√≠sticas Principales

### üîê Sistema de Autenticaci√≥n Unificado
- Login √∫nico para acceder a los tres sistemas
- Autenticaci√≥n basada en usuarios del sistema principal
- Selecci√≥n de sistema desde la ventana de login
- Soporte para m√∫ltiples sistemas simult√°neos

### üë• Sistema de Empleados (Desktop)
- Interface moderna con Material Design
- CRUD completo de empleados
- 10 empleados precargados
- B√∫squeda por cargo
- Ejecuta integrado en la misma JVM

### üë§ Sistema de Usuarios (Desktop)
- CRUD completo de usuarios
- Datos simulados (mock) - no requiere MySQL
- Ejecuta en proceso independiente
- Interface con Nimbus Look & Feel

### üåê Sistema Web de Empleados (Web)
- **REST API completa** para operaciones CRUD
- **Interfaz web moderna** con HTML5, CSS3 y JavaScript
- **Servidor HTTP integrado** (Puerto 8081)
- **Validaci√≥n en tiempo real** de formularios
- **Filtros y b√∫squeda avanzada**
- **Dise√±o responsive** para m√≥viles y tablets
- **Modales de confirmaci√≥n** para acciones cr√≠ticas
- **Formateo autom√°tico** de datos (salarios, n√∫meros)

## Arquitectura T√©cnica

### Patr√≥n MVC Expandido
- **Model**: Entidades (Empleado, User) + DAOs + Servicios
- **View**: 
  - Desktop: Swing con Material Design
  - Web: HTML5 + CSS3 + JavaScript
- **Controller**: 
  - Desktop: Controllers Swing
  - Web: REST API Controllers

### REST API Endpoints
```
GET    /api/empleados           # Listar todos los empleados
GET    /api/empleados/{id}      # Obtener empleado por ID
POST   /api/empleados           # Crear nuevo empleado
PUT    /api/empleados           # Actualizar empleado existente
DELETE /api/empleados/{id}      # Eliminar empleado
GET    /api/empleados/cargos    # Obtener lista de cargos √∫nicos
```

### Arquitectura del Sistema Web
```
Frontend (HTML/CSS/JS)
        ‚Üï
REST API (Java HttpServer)
        ‚Üï
DAO Layer (EmpleadoDAOImpl)
        ‚Üï
Mock Data (Empleados precargados)
```

## Ejecuci√≥n

### M√©todo Recomendado (Sistema Completo)
```powershell
powershell -ExecutionPolicy Bypass -File "compile-and-run.ps1"
```

### Solo Sistema Web de Empleados
```powershell
powershell -ExecutionPolicy Bypass -File "run-web.ps1"
```
Luego abra: http://localhost:8081

### Compilaci√≥n Manual Completa
```powershell
# Compilar sistema de usuarios
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/controller/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/dao/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/model/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/service/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/view/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/config/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/mvc/MainWithFallback.java

# Compilar sistema de empleados (Desktop y Web)
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/model/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/dao/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/controller/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/view/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/util/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/api/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/launcher/*.java
javac -encoding UTF-8 -cp "src/main/java" -d "target/classes" src/main/java/com/supermercado/SupermercadoApp.java

# Ejecutar sistema unificado
java -cp "target/classes" com.supermercado.SupermercadoApp

# O ejecutar solo el sistema web
java -cp "target/classes" com.supermercado.launcher.EmpleadoWebLauncher
```

## Funcionalidades del Sistema Web

### üìù Gesti√≥n de Empleados
- **Crear**: Formulario completo con validaci√≥n en tiempo real
- **Leer**: Tabla responsive con datos formateados
- **Actualizar**: Edici√≥n inline con carga autom√°tica de datos
- **Eliminar**: Confirmaci√≥n de seguridad antes de eliminar

### üîç B√∫squeda y Filtros
- **B√∫squeda por nombre**: Filtrado instant√°neo
- **Filtro por cargo**: Dropdown din√°mico con cargos disponibles
- **Actualizaci√≥n autom√°tica**: Datos en tiempo real

### ‚úÖ Validaciones Avanzadas
- **Nombres**: Solo letras y espacios, m√≠nimo 2 caracteres
- **Salario**: Rango de $1.000.000 a $10.000.000
- **Tel√©fono**: Formato flexible con validaci√≥n
- **Email**: Validaci√≥n RFC completa
- **Feedback visual**: Estados de √©xito/error en tiempo real

### üé® Interfaz Moderna
- **Dise√±o responsive**: Adaptable a m√≥viles y tablets
- **Material Design**: Colores y animaciones modernas
- **Modales de confirmaci√≥n**: UX mejorada para acciones cr√≠ticas
- **Mensajes informativos**: Feedback claro al usuario
- **Formateo autom√°tico**: N√∫meros con separadores de miles

## Usuarios de Prueba
El sistema incluye usuarios precargados para testing. Se muestran en la ventana de login con formato:
- **Nombre Usuario** (email@ejemplo.com)

## Arquitectura

### Patr√≥n MVC Expandido
- **Model**: Entidades de datos (User, Empleado) + DAOs + Servicios
- **View**: 
  - Desktop: Interfaces Swing con Material Design
  - Web: HTML5 + CSS3 + JavaScript moderno
- **Controller**: 
  - Desktop: L√≥gica de negocio Swing
  - Web: REST API Controllers con HttpServer

### Arquitectura 4+1 de Kruchten Completa
- **Vista L√≥gica**: Separaci√≥n MVC clara en todos los sistemas
- **Vista de Proceso**: 
  - Proceso principal (Empleados Desktop integrado)
  - Proceso independiente (Usuarios con datos mock)
  - Proceso web (Servidor HTTP en puerto 8081)
- **Vista de Desarrollo**: 
  - Paquetes organizados por responsabilidad
  - APIs REST bien definidas
  - Recursos web separados
- **Vista F√≠sica**: 
  - Aplicaci√≥n Java standalone multiplataforma
  - Servidor web integrado
  - Recursos est√°ticos embebidos
- **Escenarios**: 
  - Casos de uso CRUD completos
  - Autenticaci√≥n unificada
  - Sistemas simult√°neos
  - Interfaz web moderna

### Tecnolog√≠as Completas
- **Backend**: Java 11+ con HttpServer nativo
- **Frontend Web**: HTML5, CSS3, JavaScript ES6+
- **Desktop**: Swing con Look & Feel Nimbus/Material Design
- **Comunicaci√≥n**: REST API con JSON nativo
- **Datos**: Mock Data Patterns + DAO Pattern
- **Arquitectura**: MVC + Singleton + Observer
- **Procesos**: ProcessBuilder para sistemas independientes

## Estructura del Proyecto Completa
```
src/main/java/
‚îú‚îÄ‚îÄ com/mvc/                    # Sistema de Usuarios
‚îÇ   ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ dao/
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ MainWithFallback.java
‚îú‚îÄ‚îÄ com/supermercado/           # Sistema de Empleados
‚îÇ   ‚îú‚îÄ‚îÄ controller/             # Controllers Desktop
‚îÇ   ‚îú‚îÄ‚îÄ dao/                    # Data Access Objects
‚îÇ   ‚îú‚îÄ‚îÄ model/                  # Entidades de datos
‚îÇ   ‚îú‚îÄ‚îÄ service/                # Servicios de negocio
‚îÇ   ‚îú‚îÄ‚îÄ view/                   # Vistas Desktop Swing
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # ‚≠ê REST API Controllers
‚îÇ   ‚îú‚îÄ‚îÄ util/                   # ‚≠ê Utilidades JSON
‚îÇ   ‚îú‚îÄ‚îÄ launcher/               # ‚≠ê Web Server Launchers
‚îÇ   ‚îî‚îÄ‚îÄ SupermercadoApp.java
‚îî‚îÄ‚îÄ resources/web/              # ‚≠ê Recursos Web
    ‚îú‚îÄ‚îÄ empleados.html          # ‚≠ê Interfaz HTML
    ‚îú‚îÄ‚îÄ empleados-styles.css    # ‚≠ê Estilos CSS3
    ‚îî‚îÄ‚îÄ empleados-script.js     # ‚≠ê JavaScript App
```

## Soluci√≥n de Problemas

### El Sistema de Usuarios no abre
- ‚úÖ **Solucionado**: Ahora usa `MainWithFallback` que funciona sin MySQL
- Los datos son simulados y se muestran correctamente
- Si persiste el error, use `compile-and-run.ps1`

### El Sistema Web no inicia
- ‚úÖ **Verificar puerto**: Asegurar que el puerto 8081 est√© libre
- ‚úÖ **Compilaci√≥n**: Usar `run-web.ps1` para compilaci√≥n autom√°tica
- ‚úÖ **Recursos**: Los archivos HTML/CSS/JS se embeben autom√°ticamente
- ‚úÖ **Navegador**: Se abre autom√°ticamente o ir a http://localhost:8081

### Error de compilaci√≥n
- Verificar que Java 11+ est√© instalado
- Usar el script `compile-and-run.ps1` para compilaci√≥n autom√°tica
- Verificar encoding UTF-8 en Windows
- Para solo web: usar `run-web.ps1`

### Login no funciona
- Usar cualquiera de los usuarios mostrados en la lista
- Debe coincidir exactamente el nombre y email
- El sistema distingue entre may√∫sculas y min√∫sculas

### API REST no responde
- Verificar que el servidor web est√© iniciado (puerto 8081)
- Comprobar logs en consola para errores
- Verificar CORS - la API permite todos los or√≠genes
- Usar herramientas como Postman para probar endpoints

### Interfaz web no carga
- Verificar que los recursos est√©n en `src/main/resources/web/`
- Los archivos se sirven desde `/` (ej: `/empleados.html`)
- Verificar consola del navegador para errores JavaScript
- Asegurar que el servidor est√© corriendo antes de abrir el navegador

## Desarrollo

### Estructura del Proyecto
```
src/main/java/
‚îú‚îÄ‚îÄ com/mvc/                 # Sistema de Usuarios
‚îÇ   ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ dao/
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ MainWithFallback.java
‚îî‚îÄ‚îÄ com/supermercado/        # Sistema de Empleados
    ‚îú‚îÄ‚îÄ controller/
    ‚îú‚îÄ‚îÄ dao/
    ‚îú‚îÄ‚îÄ model/
    ‚îú‚îÄ‚îÄ service/
    ‚îú‚îÄ‚îÄ view/
    ‚îî‚îÄ‚îÄ SupermercadoApp.java
```

### Extensibilidad
- Agregar nuevos sistemas siguiendo el patr√≥n establecido
- Modificar `SupermercadoApp` para incluir nuevas opciones
- Los sistemas pueden ejecutarse independientemente

## Estado Actual
‚úÖ **Completamente Funcional - Sistema Triple**
- ‚úÖ Login unificado con selecci√≥n de tres sistemas
- ‚úÖ Sistema de Empleados Desktop (Material Design)
- ‚úÖ Sistema de Usuarios Desktop (datos mock)
- ‚úÖ **Sistema Web de Empleados (REST API + Frontend moderno)**
- ‚úÖ Interface web responsive y moderna
- ‚úÖ API REST completa con todos los endpoints
- ‚úÖ Validaci√≥n avanzada en tiempo real
- ‚úÖ Compilaci√≥n y ejecuci√≥n automatizada
- ‚úÖ Documentaci√≥n completa actualizada

## Screenshots y Demostraciones

### Sistema de Login Actualizado
- Selector de tres sistemas: Empleados, Usuarios, Web Empleados
- Lista din√°mica de usuarios de prueba
- Interface Material Design

### Sistema Web de Empleados
- **URL**: http://localhost:8081
- **Formulario CRUD** completo con validaciones
- **Tabla responsive** con b√∫squeda y filtros
- **Modales de confirmaci√≥n** para acciones cr√≠ticas
- **Dise√±o adaptable** para m√≥viles y desktop

### API REST Endpoints
```bash
# Obtener todos los empleados
GET http://localhost:8081/api/empleados

# Crear nuevo empleado
POST http://localhost:8081/api/empleados
Content-Type: application/json
{
  "nombre": "Juan P√©rez",
  "cargo": "Cajero",
  "salario": 1500000,
  "telefono": "+57 300 123 4567",
  "email": "juan.perez@supermercado.com"
}

# Obtener cargos disponibles
GET http://localhost:8081/api/empleados/cargos
```