<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gesti√≥n de Empleados - Web</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="empleados-styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-title">
                    <h1>üè¢ Sistema de Gesti√≥n de Empleados</h1>
                    <p class="subtitle">Interfaz Web - Patr√≥n MVC</p>
                </div>
                <div class="user-info">
                    <div class="user-details">
                        <span id="userName">Usuario</span>
                        <small id="userRole">Rol</small>
                    </div>
                    <button id="logoutBtn" class="logout-btn" onclick="logout()">
                        <span>Cerrar Sesi√≥n</span>
                        <i class="material-icons">exit_to_app</i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Formulario de Empleado -->
        <div class="form-container">
            <h2>üìù Datos del Empleado</h2>
            <form id="empleadoForm" class="empleado-form">
                <input type="hidden" id="empleadoId" name="id">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nombre">Nombre Completo *</label>
                        <input type="text" id="nombre" name="nombre" required 
                               placeholder="Ej: Juan Carlos P√©rez">
                    </div>
                    
                    <div class="form-group">
                        <label for="cargo">Cargo *</label>
                        <select id="cargo" name="cargo" required>
                            <option value="">-- Seleccione un cargo --</option>
                            <option value="Cajero">Cajero</option>
                            <option value="Supervisor">Supervisor</option>
                            <option value="Gerente">Gerente</option>
                            <option value="Vendedor">Vendedor</option>
                            <option value="Almacenista">Almacenista</option>
                            <option value="Seguridad">Seguridad</option>
                            <option value="Limpieza">Limpieza</option>
                            <option value="Administrador">Administrador</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="salario">Salario *</label>
                        <input type="number" id="salario" name="salario" required 
                               min="1000000" max="10000000" step="50000"
                               placeholder="Ej: 1500000">
                    </div>
                    
                    <div class="form-group">
                        <label for="telefono">Tel√©fono *</label>
                        <input type="tel" id="telefono" name="telefono" required 
                               pattern="[0-9\s\+\-\(\)]+" 
                               placeholder="Ej: +57 300 123 4567">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required 
                               placeholder="Ej: juan.perez@supermercado.com">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span id="submitText">üíæ Crear Empleado</span>
                    </button>
                    <button type="button" id="clearBtn" class="btn btn-secondary">
                        üóëÔ∏è Limpiar
                    </button>
                    <button type="button" id="cancelEditBtn" class="btn btn-warning" style="display:none;">
                        ‚ùå Cancelar Edici√≥n
                    </button>
                </div>
            </form>
        </div>

        <!-- Filtros y B√∫squeda -->
        <div class="filters-container">
            <h3>üîç Filtros y B√∫squeda</h3>
            <div class="filters">
                <div class="filter-group">
                    <label for="searchInput">Buscar por nombre:</label>
                    <input type="text" id="searchInput" placeholder="Escriba el nombre del empleado...">
                </div>
                <div class="filter-group">
                    <label for="cargoFilter">Filtrar por cargo:</label>
                    <select id="cargoFilter">
                        <option value="">-- Todos los cargos --</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button id="refreshBtn" class="btn btn-info">üîÑ Actualizar Lista</button>
                </div>
            </div>
        </div>

        <!-- Tabla de Empleados -->
        <div class="table-container">
            <h3>üë• Lista de Empleados</h3>
            <div class="table-responsive">
                <table id="empleadosTable" class="empleados-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Cargo</th>
                            <th>Salario</th>
                            <th>Tel√©fono</th>
                            <th>Email</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="empleadosTableBody">
                        <!-- Los datos se cargan din√°micamente -->
                    </tbody>
                </table>
            </div>
            <div id="tableMessage" class="table-message" style="display:none;">
                <p>üìã Cargando empleados...</p>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Sistema de Gesti√≥n de Empleados | Patr√≥n MVC | Arquitectura REST API</p>
            <p>Puerto: 8084 | Desarrollado con Java HttpServer</p>
        </footer>
    </div>

    <!-- Modales de Confirmaci√≥n -->
    <div id="confirmModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>‚ö†Ô∏è Confirmaci√≥n</h3>
            <p id="confirmMessage">¬øEst√° seguro de realizar esta acci√≥n?</p>
            <div class="modal-actions">
                <button id="confirmYes" class="btn btn-danger">S√≠, Confirmar</button>
                <button id="confirmNo" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Mensajes -->
    <div id="messageModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h3 id="messageTitle">üí° Informaci√≥n</h3>
            <p id="messageText">Mensaje del sistema</p>
            <div class="modal-actions">
                <button id="messageOk" class="btn btn-primary">Aceptar</button>
            </div>
        </div>
    </div>

    <script src="empleados-script.js"></script>
</body>
</html>